<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SLProject: SLCVCapture Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="SLProject.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">SLProject
   &#160;<span id="projectnumber">2.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_s_l_c_v_capture.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="class_s_l_c_v_capture-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SLCVCapture Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Encapsulation of the OpenCV Capture Device and holder of the last frame.  
 <a href="class_s_l_c_v_capture.html#details">More...</a></p>

<p><code>#include &lt;SLCVCapture.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1d3d6465578f0e08e730c8b8706e27bb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_s_l_vec2_8h.html#a5789337dd3e9fd15d948e4f13c802d1c">SLVec2i</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#a1d3d6465578f0e08e730c8b8706e27bb">open</a> (<a class="el" href="_s_l_8h.html#ac596bcf2933ea243d3a9d6369651794d">SLint</a> deviceNum)</td></tr>
<tr class="memdesc:a1d3d6465578f0e08e730c8b8706e27bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the capture device and returns the frame size.  <a href="#a1d3d6465578f0e08e730c8b8706e27bb"></a><br/></td></tr>
<tr class="separator:a1d3d6465578f0e08e730c8b8706e27bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4756470ca3921b2f8aeaeac708a71d9c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_s_l_vec2_8h.html#a5789337dd3e9fd15d948e4f13c802d1c">SLVec2i</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#a4756470ca3921b2f8aeaeac708a71d9c">open</a> (<a class="el" href="_s_l_8h.html#ab2b640a4e47941897548c20b992885c8">SLstring</a> filePath)</td></tr>
<tr class="memdesc:a4756470ca3921b2f8aeaeac708a71d9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes a filepath to a Videofile and opens it instead of a camerafeed.  <a href="#a4756470ca3921b2f8aeaeac708a71d9c"></a><br/></td></tr>
<tr class="separator:a4756470ca3921b2f8aeaeac708a71d9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26320d813d8341464e6203cda1ad6af0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#a26320d813d8341464e6203cda1ad6af0">grabAndAdjustForSL</a> ()</td></tr>
<tr class="separator:a26320d813d8341464e6203cda1ad6af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad66cc083ad148f8fb5a98701eab1ac86"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#ad66cc083ad148f8fb5a98701eab1ac86">adjustForSL</a> ()</td></tr>
<tr class="memdesc:ad66cc083ad148f8fb5a98701eab1ac86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does all adjustments needed for the <a class="el" href="class_s_l_scene.html#a0e9eff4801ffb7007ca8110960d4fec7" title="Texture for live video image.">SLScene::_videoTexture</a>.  <a href="#ad66cc083ad148f8fb5a98701eab1ac86"></a><br/></td></tr>
<tr class="separator:ad66cc083ad148f8fb5a98701eab1ac86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1067e6db4026e9f461710f19f102a729"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_s_l_8h.html#a6eb6bdf37149321094e71ed06120392e">SLbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#a1067e6db4026e9f461710f19f102a729">isOpened</a> ()</td></tr>
<tr class="separator:a1067e6db4026e9f461710f19f102a729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1af94e4e1f77ec5c01281fbb33cd9222"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#a1af94e4e1f77ec5c01281fbb33cd9222">release</a> ()</td></tr>
<tr class="separator:a1af94e4e1f77ec5c01281fbb33cd9222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab91c4e19759555b7d22d46c3afee23b5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#ab91c4e19759555b7d22d46c3afee23b5">loadIntoLastFrame</a> (const <a class="el" href="_s_l_8h.html#ac596bcf2933ea243d3a9d6369651794d">SLint</a> camWidth, const <a class="el" href="_s_l_8h.html#ac596bcf2933ea243d3a9d6369651794d">SLint</a> camHeight, const <a class="el" href="_s_l_enums_8h.html#a408fa74d21ec77c3f43bbd7dc7aaa513">SLPixelFormat</a> srcPixelFormat, const <a class="el" href="_s_l_8h.html#a558bc88d42cc617a969769339a841b13">SLuchar</a> *data, const <a class="el" href="_s_l_8h.html#a6eb6bdf37149321094e71ed06120392e">SLbool</a> isContinuous)</td></tr>
<tr class="separator:ab91c4e19759555b7d22d46c3afee23b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50513f2981980607519252ebd3d7df3a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#a50513f2981980607519252ebd3d7df3a">copyYUVPlanes</a> (int srcW, int srcH, <a class="el" href="_s_l_8h.html#a558bc88d42cc617a969769339a841b13">SLuchar</a> *y, int ySize, int yPixStride, int yLineStride, <a class="el" href="_s_l_8h.html#a558bc88d42cc617a969769339a841b13">SLuchar</a> *u, int uSize, int uPixStride, int uLineStride, <a class="el" href="_s_l_8h.html#a558bc88d42cc617a969769339a841b13">SLuchar</a> *v, int vSize, int vPixStride, int vLineStride)</td></tr>
<tr class="memdesc:a50513f2981980607519252ebd3d7df3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies and converts the video image in YUV_420 format to RGB and Grayscale.  <a href="#a50513f2981980607519252ebd3d7df3a"></a><br/></td></tr>
<tr class="separator:a50513f2981980607519252ebd3d7df3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a2514b2c2404193ecdc1c00518c94a953"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_s_l_c_v_8h.html#a931cd144af48217cf4457932c275206c">SLCVMat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#a2514b2c2404193ecdc1c00518c94a953">lastFrame</a></td></tr>
<tr class="memdesc:a2514b2c2404193ecdc1c00518c94a953"><td class="mdescLeft">&#160;</td><td class="mdescRight">last frame grabbed  <a href="#a2514b2c2404193ecdc1c00518c94a953"></a><br/></td></tr>
<tr class="separator:a2514b2c2404193ecdc1c00518c94a953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43c34326806ca333fd2c7efe0940b8b0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_s_l_c_v_8h.html#a931cd144af48217cf4457932c275206c">SLCVMat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#a43c34326806ca333fd2c7efe0940b8b0">lastFrameGray</a></td></tr>
<tr class="memdesc:a43c34326806ca333fd2c7efe0940b8b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">last frame in grayscale  <a href="#a43c34326806ca333fd2c7efe0940b8b0"></a><br/></td></tr>
<tr class="separator:a43c34326806ca333fd2c7efe0940b8b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a585aad953fd43e61103b88bcb19d132f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_s_l_enums_8h.html#a408fa74d21ec77c3f43bbd7dc7aaa513">SLPixelFormat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#a585aad953fd43e61103b88bcb19d132f">format</a></td></tr>
<tr class="memdesc:a585aad953fd43e61103b88bcb19d132f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_s_l.html">SL</a> pixel format.  <a href="#a585aad953fd43e61103b88bcb19d132f"></a><br/></td></tr>
<tr class="separator:a585aad953fd43e61103b88bcb19d132f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b3b0ddbc81c87a1e9a08de4fd75bc30"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_s_l_c_v_8h.html#af35d04fd003282caec13d0b5ac5fcbab">SLCVSize</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#a4b3b0ddbc81c87a1e9a08de4fd75bc30">captureSize</a></td></tr>
<tr class="memdesc:a4b3b0ddbc81c87a1e9a08de4fd75bc30"><td class="mdescLeft">&#160;</td><td class="mdescRight">size of captured frame  <a href="#a4b3b0ddbc81c87a1e9a08de4fd75bc30"></a><br/></td></tr>
<tr class="separator:a4b3b0ddbc81c87a1e9a08de4fd75bc30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a640302f03ab28a394b6729185c484959"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_s_l_8h.html#ae1129a94a009825d989fb4988bdd7f7e">SLfloat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#a640302f03ab28a394b6729185c484959">startCaptureTimeMS</a></td></tr>
<tr class="memdesc:a640302f03ab28a394b6729185c484959"><td class="mdescLeft">&#160;</td><td class="mdescRight">start time of capturing in ms  <a href="#a640302f03ab28a394b6729185c484959"></a><br/></td></tr>
<tr class="separator:a640302f03ab28a394b6729185c484959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a673b604cfd18bf903825a1c72696ebff"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_s_l_8h.html#a6eb6bdf37149321094e71ed06120392e">SLbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#a673b604cfd18bf903825a1c72696ebff">hasSecondaryCamera</a> = true</td></tr>
<tr class="memdesc:a673b604cfd18bf903825a1c72696ebff"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag if device has secondary camera  <a href="#a673b604cfd18bf903825a1c72696ebff"></a><br/></td></tr>
<tr class="separator:a673b604cfd18bf903825a1c72696ebff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acf06307bb3135339e4ecbbd6f81054"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_s_l_8h.html#ac596bcf2933ea243d3a9d6369651794d">SLint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#a9acf06307bb3135339e4ecbbd6f81054">requestedSizeIndex</a> = 0</td></tr>
<tr class="separator:a9acf06307bb3135339e4ecbbd6f81054"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a114e8e37deee2a21cb87b3a4560d3064"><td class="memItemLeft" align="right" valign="top">static cv::VideoCapture&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_l_c_v_capture.html#a114e8e37deee2a21cb87b3a4560d3064">_captureDevice</a></td></tr>
<tr class="memdesc:a114e8e37deee2a21cb87b3a4560d3064"><td class="mdescLeft">&#160;</td><td class="mdescRight">OpenCV capture device.  <a href="#a114e8e37deee2a21cb87b3a4560d3064"></a><br/></td></tr>
<tr class="separator:a114e8e37deee2a21cb87b3a4560d3064"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Encapsulation of the OpenCV Capture Device and holder of the last frame. </p>
<p>It holds a static image for the last captured color frame and a grayscale version as well as a single static instance of the OpenCV capture device. <br/>
 The live video image grabbing is not mandatory and can be replaced by the the top level application with its own video grabbing functionality. This is e.g. used in the iOS or Android examples. The <a class="el" href="class_s_l_c_v_capture.html#a2514b2c2404193ecdc1c00518c94a953" title="last frame grabbed">SLCVCapture::lastFrame</a> and <a class="el" href="class_s_l_c_v_capture.html#a43c34326806ca333fd2c7efe0940b8b0" title="last frame in grayscale">SLCVCapture::lastFrameGray</a> are on the other hand used in all applications as the buffer for the last captured image. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad66cc083ad148f8fb5a98701eab1ac86"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SLCVCapture::adjustForSL </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does all adjustments needed for the <a class="el" href="class_s_l_scene.html#a0e9eff4801ffb7007ca8110960d4fec7" title="Texture for live video image.">SLScene::_videoTexture</a>. </p>
<p><a class="el" href="class_s_l_c_v_capture.html#ad66cc083ad148f8fb5a98701eab1ac86" title="Does all adjustments needed for the SLScene::_videoTexture.">SLCVCapture::adjustForSL</a> processes the following adjustments for all input image no matter with what the where captured: <br/>
 1) Crops the input image if it doesn't match the screens aspect ratio. The input image mostly does't fit the aspect of the output screen aspect. If the input image is too high we crop it on top and bottom, if it is too wide we crop it on the sides. <br/>
 2) Some cameras toward a face mirror the image and some do not. If a input image should be mirrored or not is stored in <a class="el" href="class_s_l_c_v_calibration.html#a99d3ea6536744df23ae8f47e09ed47b7" title="Flag if image must be horizontally mirrored.">SLCVCalibration::_isMirroredH</a> (H for horizontal) and <a class="el" href="class_s_l_c_v_calibration.html#a49f00240772331e2f63d6daa9f9e6175" title="Flag if image must be vertically mirrored.">SLCVCalibration::_isMirroredV</a> (V for vertical). <br/>
 3) Many of the further processing steps are faster done on grayscale images. We therefore create a copy that is grayscale converted. </p>

</div>
</div>
<a class="anchor" id="a50513f2981980607519252ebd3d7df3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SLCVCapture::copyYUVPlanes </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>srcW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>srcH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_l_8h.html#a558bc88d42cc617a969769339a841b13">SLuchar</a> *&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>yBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>yColOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>yRowOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_l_8h.html#a558bc88d42cc617a969769339a841b13">SLuchar</a> *&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>uBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>uColOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>uRowOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_s_l_8h.html#a558bc88d42cc617a969769339a841b13">SLuchar</a> *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vColOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vRowOffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies and converts the video image in YUV_420 format to RGB and Grayscale. </p>
<p><a class="el" href="class_s_l_c_v_capture.html#a50513f2981980607519252ebd3d7df3a" title="Copies and converts the video image in YUV_420 format to RGB and Grayscale.">SLCVCapture::copyYUVPlanes</a> copies and converts the video image in YUV_420 format to the RGB image in <a class="el" href="class_s_l_c_v_capture.html#a2514b2c2404193ecdc1c00518c94a953" title="last frame grabbed">SLCVCapture::lastFrame</a> and the Y channel the grayscale image in <a class="el" href="class_s_l_c_v_capture.html#a43c34326806ca333fd2c7efe0940b8b0" title="last frame in grayscale">SLCVCapture::lastFrameGray</a>.<br/>
 In the YUV_420 format only the luminosity channel Y has the full resolution (one byte per pixel). The color channels U and V are subsampled and have only one byte per 4 pixel. See also <a href="https://en.wikipedia.org/wiki/Chroma_subsampling">https://en.wikipedia.org/wiki/Chroma_subsampling</a> <br/>
 In addition the routine crops and mirrors the image if needed. So the following processing steps should be done hopefully in a single loop: <br/>
 1) Crops the input image if it doesn't match the screens aspect ratio. The input image mostly does't fit the aspect of the output screen aspect. If the input image is too high we crop it on top and bottom, if it is too wide we crop it on the sides. <br/>
 2) Some cameras toward a face mirror the image and some do not. If a input image should be mirrored or not is stored in <a class="el" href="class_s_l_c_v_calibration.html#a99d3ea6536744df23ae8f47e09ed47b7" title="Flag if image must be horizontally mirrored.">SLCVCalibration::_isMirroredH</a> (H for horizontal) and <a class="el" href="class_s_l_c_v_calibration.html#a49f00240772331e2f63d6daa9f9e6175" title="Flag if image must be vertically mirrored.">SLCVCalibration::_isMirroredV</a> (V for vertical). <br/>
 3) The most expensive part of course is the color space conversion from the YUV to RGB conversion. According to Wikipedia the conversion is defined as: <br/>
</p>
<ul>
<li>C = 1.164*(Y-16); D = U-128; E = V-128</li>
<li>R = clip(round(C + 1.596*E))</li>
<li>G = clip(round(C - 0.391*D - 0.813*E))</li>
<li>B = clip(round(C + 2.018*D)) <br/>
 A faster integer version with bit shifting is:<br/>
</li>
<li>C = 298*(Y-16)+128; D = U-128; E = V-128</li>
<li>R = clip((C + 409*E) &gt;&gt; 8)</li>
<li>G = clip((C - 100*D - 208*E) &gt;&gt; 8)</li>
<li>B = clip((C + 516*D) &gt;&gt; 8) <br/>
 4) Many of the image processing tasks are faster done on grayscale images. We therefore create a copy of the y-channel into <a class="el" href="class_s_l_c_v_capture.html#a43c34326806ca333fd2c7efe0940b8b0" title="last frame in grayscale">SLCVCapture::lastFrameGray</a>. <br/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srcW</td><td>Source image width in pixel </td></tr>
    <tr><td class="paramname">srcH</td><td>Source image height in pixel </td></tr>
    <tr><td class="paramname">y</td><td>Pointer to first byte of the top left pixel of the y-plane </td></tr>
    <tr><td class="paramname">yBytes</td><td>Size in bytes of the y-plane (must be srcW x srcH) </td></tr>
    <tr><td class="paramname">yColOffset</td><td>Offset in bytes to the next pixel in the y-plane </td></tr>
    <tr><td class="paramname">yRowOffset</td><td>Offset in bytes to the next line in the y-plane </td></tr>
    <tr><td class="paramname">u</td><td>Pointer to first byte of the top left pixel of the u-plane </td></tr>
    <tr><td class="paramname">uBytes</td><td>Size in bytes of the u-plane </td></tr>
    <tr><td class="paramname">uColOffset</td><td>Offset in bytes to the next pixel in the u-plane </td></tr>
    <tr><td class="paramname">uRowOffset</td><td>Offset in bytes to the next line in the u-plane </td></tr>
    <tr><td class="paramname">v</td><td>Pointer to first byte of the top left pixel of the v-plane </td></tr>
    <tr><td class="paramname">vBytes</td><td>Size in bytes of the v-plane </td></tr>
    <tr><td class="paramname">vColOffset</td><td>Offset in bytes to the next pixel in the v-plane </td></tr>
    <tr><td class="paramname">vRowOffset</td><td>Offset in bytes to the next line in the v-plane </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a26320d813d8341464e6203cda1ad6af0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SLCVCapture::grabAndAdjustForSL </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Grabs a new frame from the OpenCV capture device and adjusts it for <a class="el" href="class_s_l.html">SL</a> </p>

</div>
</div>
<a class="anchor" id="a1067e6db4026e9f461710f19f102a729"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="_s_l_8h.html#a6eb6bdf37149321094e71ed06120392e">SLbool</a> SLCVCapture::isOpened </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab91c4e19759555b7d22d46c3afee23b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SLCVCapture::loadIntoLastFrame </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="_s_l_8h.html#ac596bcf2933ea243d3a9d6369651794d">SLint</a>&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_s_l_8h.html#ac596bcf2933ea243d3a9d6369651794d">SLint</a>&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_s_l_enums_8h.html#a408fa74d21ec77c3f43bbd7dc7aaa513">SLPixelFormat</a>&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_s_l_8h.html#a558bc88d42cc617a969769339a841b13">SLuchar</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_s_l_8h.html#a6eb6bdf37149321094e71ed06120392e">SLbool</a>&#160;</td>
          <td class="paramname"><em>isContinuous</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method is called by iOS and Android projects that capture their video cameras on their own. We only adjust the color space. See the app-Demo-iOS and app-Demo-Android projects for the usage. </p>

</div>
</div>
<a class="anchor" id="a1d3d6465578f0e08e730c8b8706e27bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_l_vec2_8h.html#a5789337dd3e9fd15d948e4f13c802d1c">SLVec2i</a> SLCVCapture::open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_s_l_8h.html#ac596bcf2933ea243d3a9d6369651794d">SLint</a>&#160;</td>
          <td class="paramname"><em>deviceNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Opens the capture device and returns the frame size. </p>

</div>
</div>
<a class="anchor" id="a4756470ca3921b2f8aeaeac708a71d9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_l_vec2_8h.html#a5789337dd3e9fd15d948e4f13c802d1c">SLVec2i</a> SLCVCapture::open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_s_l_8h.html#ab2b640a4e47941897548c20b992885c8">SLstring</a>&#160;</td>
          <td class="paramname"><em>filePath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Takes a filepath to a Videofile and opens it instead of a camerafeed. </p>

</div>
</div>
<a class="anchor" id="a1af94e4e1f77ec5c01281fbb33cd9222"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void SLCVCapture::release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a114e8e37deee2a21cb87b3a4560d3064"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cv::VideoCapture SLCVCapture::_captureDevice</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OpenCV capture device. </p>

</div>
</div>
<a class="anchor" id="a4b3b0ddbc81c87a1e9a08de4fd75bc30"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_l_c_v_8h.html#af35d04fd003282caec13d0b5ac5fcbab">SLCVSize</a> SLCVCapture::captureSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>size of captured frame </p>

</div>
</div>
<a class="anchor" id="a585aad953fd43e61103b88bcb19d132f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_l_enums_8h.html#a408fa74d21ec77c3f43bbd7dc7aaa513">SLPixelFormat</a> SLCVCapture::format</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_s_l.html">SL</a> pixel format. </p>

</div>
</div>
<a class="anchor" id="a673b604cfd18bf903825a1c72696ebff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_l_8h.html#a6eb6bdf37149321094e71ed06120392e">SLbool</a> SLCVCapture::hasSecondaryCamera = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>flag if device has secondary camera </p>

</div>
</div>
<a class="anchor" id="a2514b2c2404193ecdc1c00518c94a953"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_l_c_v_8h.html#a931cd144af48217cf4457932c275206c">SLCVMat</a> SLCVCapture::lastFrame</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>last frame grabbed </p>

</div>
</div>
<a class="anchor" id="a43c34326806ca333fd2c7efe0940b8b0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_l_c_v_8h.html#a931cd144af48217cf4457932c275206c">SLCVMat</a> SLCVCapture::lastFrameGray</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>last frame in grayscale </p>

</div>
</div>
<a class="anchor" id="a9acf06307bb3135339e4ecbbd6f81054"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_l_8h.html#ac596bcf2933ea243d3a9d6369651794d">SLint</a> SLCVCapture::requestedSizeIndex = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A requestedSizeIndex of 0 returns on Android the default size of 640x480. If this size is not available the median element of the available sizes array is returned. An index of -n return the n-th smaller one. <br/>
 An index of +n return the n-th bigger one.<br/>
 This requestedSizeIndex has only an influence right now on Android. On desktop systen OpenCV gets the max. available resolution. On iOS the resolution is hardcoded to 640 x 480. </p>

</div>
</div>
<a class="anchor" id="a640302f03ab28a394b6729185c484959"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_s_l_8h.html#ae1129a94a009825d989fb4988bdd7f7e">SLfloat</a> SLCVCapture::startCaptureTimeMS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>start time of capturing in ms </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_s_l_c_v_capture_8h.html">SLCVCapture.h</a></li>
<li><a class="el" href="_s_l_c_v_capture_8cpp.html">SLCVCapture.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_s_l_c_v_capture.html">SLCVCapture</a></li>
    <li class="footer">Generated on Sat Sep 2 2017 12:28:44 for SLProject by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
